<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Zombie</name>
    <events>
        <event-block sid="854498694695954">
            <conditions>
                <condition id="-18" name="On created" sid="325507858043584" type="Zombie" />
            </conditions>
            <actions>
                <action id="0" name="Spawn another object" sid="736945344239774" type="Zombie">
                    <param id="0" name="Object">HpBarBase</param>
                    <param id="1" name="Layer">&quot;white&quot;</param>
                    <param id="2" name="Image point">1</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="557507710202228" type="HpBarBase">
                    <param id="0" name="Pin to">Zombie</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action id="-10" name="Set value" sid="502329037297041" type="HpBarBase">
                    <param id="0" name="Instance variable">enemie</param>
                    <param id="1" name="Value">Zombie.UID</param>
                </action>
                <action id="0" name="Spawn another object" sid="112871106300434" type="HpBarBase">
                    <param id="0" name="Object">HpBarValue</param>
                    <param id="1" name="Layer">&quot;white&quot;</param>
                    <param id="2" name="Image point">1</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="966531198163211" type="HpBarValue">
                    <param id="0" name="Pin to">Zombie</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action id="-10" name="Set value" sid="641078930893136" type="HpBarValue">
                    <param id="0" name="Instance variable">enemie</param>
                    <param id="1" name="Value">Zombie.UID</param>
                </action>
                <action id="-10" name="Set value" sid="778052019990970" type="HpBarValue">
                    <param id="0" name="Instance variable">hp</param>
                    <param id="1" name="Value">Zombie.hp</param>
                </action>
                <action id="0" name="Spawn another object" sid="749477115750588" type="Zombie">
                    <param id="0" name="Object">FightDetector</param>
                    <param id="1" name="Layer">&quot;Player&quot;</param>
                    <param id="2" name="Image point">2</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="265567331973609" type="FightDetector">
                    <param id="0" name="Pin to">Zombie</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action id="-10" name="Set value" sid="956304377265297" type="FightDetector">
                    <param id="0" name="Instance variable">zombie</param>
                    <param id="1" name="Value">Zombie.UID</param>
                </action>
                <action id="0" name="Spawn another object" sid="587048391814028" type="Zombie">
                    <param id="0" name="Object">NearDetector</param>
                    <param id="1" name="Layer">&quot;Player&quot;</param>
                    <param id="2" name="Image point">2</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="516828432312651" type="NearDetector">
                    <param id="0" name="Pin to">Zombie</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action id="-10" name="Set value" sid="157932059405561" type="NearDetector">
                    <param id="0" name="Instance variable">zombie</param>
                    <param id="1" name="Value">Zombie.UID</param>
                </action>
                <action id="0" name="Spawn another object" sid="152972794925099" type="Zombie">
                    <param id="0" name="Object">FarDetector</param>
                    <param id="1" name="Layer">&quot;Player&quot;</param>
                    <param id="2" name="Image point">2</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="857850703007792" type="FarDetector">
                    <param id="0" name="Pin to">Zombie</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action id="-10" name="Set value" sid="235639979261003" type="FarDetector">
                    <param id="0" name="Instance variable">zombie</param>
                    <param id="1" name="Value">Zombie.UID</param>
                </action>
                <action id="-10" name="Add to" sid="889510653035871" type="System">
                    <param id="0" name="Variable">EnemyCount</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="311801746749755">
                    <conditions />
                    <actions>
                        <action id="0" name="Spawn another object" sid="732798208897855" type="Zombie">
                            <param id="0" name="Object">ZombieWalk</param>
                            <param id="1" name="Layer">&quot;Player&quot;</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="797813744542998" type="ZombieWalk">
                            <param id="0" name="Pin to">Zombie</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                        <action id="-10" name="Set value" sid="398061921243392" type="ZombieWalk">
                            <param id="0" name="Instance variable">zombie</param>
                            <param id="1" name="Value">Zombie.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="870577458141447">
                    <conditions />
                    <actions>
                        <action id="0" name="Spawn another object" sid="389137270283979" type="Zombie">
                            <param id="0" name="Object">ZombieGunner</param>
                            <param id="1" name="Layer">&quot;Player&quot;</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="394131924679676" type="ZombieGunner">
                            <param id="0" name="Pin to">Zombie</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                        <action id="-10" name="Set value" sid="882786147275225" type="ZombieGunner">
                            <param id="0" name="Instance variable">zombie</param>
                            <param id="1" name="Value">Zombie.UID</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="462460330390341">
            <conditions>
                <condition id="0" name="On collision with another object" sid="866865205993943" type="Zombie">
                    <param id="0" name="Object">Bullet</param>
                </condition>
                <condition id="-11" name="For Each" sid="738209677695374" type="System">
                    <param id="0" name="Object">Zombie</param>
                </condition>
                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="610600042707566" type="Bullet">
                    <param id="0" name="Instance variable">monster</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="550701404739829">
                    <conditions />
                    <actions />
                </event-block>
                <event-block sid="146592976701581">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="679745408205280" type="HpBarBase">
                            <param id="0" name="Instance variable">enemie</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Zombie.UID</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="189364362231901" type="HpBarValue">
                            <param id="0" name="Instance variable">enemie</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Zombie.UID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="832981868108204" type="Zombie">
                            <param id="0" name="Instance variable">hp</param>
                            <param id="1" name="Value">Bullet.damage</param>
                        </action>
                        <action id="-5" name="Set width" sid="771270762561577" type="HpBarValue">
                            <param id="0" name="Width">HpBarBase.Width * (Zombie.hp/HpBarValue.hp)</param>
                        </action>
                        <action id="-16" name="Set opacity" sid="378633475340384" type="HpBarBase">
                            <param id="0" name="Opacity">100</param>
                        </action>
                        <action id="-16" name="Set opacity" sid="736250495852605" type="HpBarValue">
                            <param id="0" name="Opacity">100</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="740613091429458" type="HpBarValue">
                            <param id="0" name="Object">DamageTxt</param>
                            <param id="1" name="Layer">&quot;white&quot;</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="688474974331220">
                            <conditions />
                            <actions>
                                <action id="0" name="Set text" sid="544660974665918" type="DamageTxt">
                                    <param id="0" name="Text">&quot;&quot; &amp; Bullet.damage</param>
                                </action>
                                <action id="-1" name="Set X" sid="869686702656102" type="DamageTxt">
                                    <param id="0" name="X">DamageTxt.X - (HpBarBase.Width/2)</param>
                                </action>
                                <action id="-1" name="Set X" sid="254132228919979" type="DamageTxt">
                                    <param id="0" name="X">DamageTxt.X + int(random(HpBarBase.Width))</param>
                                </action>
                                <action id="-16" name="Wait" sid="296213612665723" type="System">
                                    <param id="0" name="Seconds">1.0</param>
                                </action>
                                <action id="-9" name="Destroy" sid="440534962977592" type="DamageTxt" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="925355400416327">
                    <conditions>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="228635105370492" type="Zombie">
                            <param id="0" name="Instance variable">isPlayerNear</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="473035898309230" type="Zombie">
                            <param id="0" name="Instance variable">isPlayerNear</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="0" name="Call function" sid="863309861457477" type="Function">
                            <param id="0" name="Name">&quot;ChasePlayer&quot;</param>
                            <param id="1" name="Parameter {n}">Zombie.UID</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="798318083878961">
            <conditions>
                <condition id="-11" name="For Each" sid="550798980841633" type="System">
                    <param id="0" name="Object">Zombie</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="386937823989229" type="Zombie">
                    <param id="0" name="Instance variable">hp</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Spawn another object" sid="691152150726714" type="Zombie">
                    <param id="0" name="Object">Gear</param>
                    <param id="1" name="Layer">&quot;Player&quot;</param>
                    <param id="2" name="Image point">2</param>
                </action>
                <action behavior="Platform" id="11" name="Set enabled" sid="248585197992854" type="Gear">
                    <param id="0" name="State">1</param>
                </action>
                <action id="11" name="Set collisions enabled" sid="726749813279807" type="Gear">
                    <param id="0" name="Collisions">1</param>
                </action>
                <action id="-11" name="Subtract from" sid="198454263890406" type="System">
                    <param id="0" name="Variable">EnemyCount</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="556823598089034">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="682289420173782" type="HpBarBase">
                            <param id="0" name="Instance variable">enemie</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Zombie.UID</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="295817090993416" type="HpBarValue">
                            <param id="0" name="Instance variable">enemie</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Zombie.UID</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="373382926631594" type="FightDetector">
                            <param id="0" name="Instance variable">zombie</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Zombie.UID</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="793969179470681" type="NearDetector">
                            <param id="0" name="Instance variable">zombie</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Zombie.UID</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="484974695569837" type="FarDetector">
                            <param id="0" name="Instance variable">zombie</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Zombie.UID</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="384683504459649" type="ZombieWalk">
                            <param id="0" name="Instance variable">zombie</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Zombie.UID</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="285135781059705" type="ZombieGunner">
                            <param id="0" name="Instance variable">zombie</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Zombie.UID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="764170367614255" type="HpBarBase" />
                        <action id="-9" name="Destroy" sid="460775717005046" type="HpBarValue" />
                        <action id="-9" name="Destroy" sid="149112912508474" type="FightDetector" />
                        <action id="-9" name="Destroy" sid="379670319762672" type="NearDetector" />
                        <action id="-9" name="Destroy" sid="443621097884936" type="FarDetector" />
                        <action id="-9" name="Destroy" sid="914758654913551" type="Zombie" />
                        <action id="-9" name="Destroy" sid="479064446645420" type="ZombieWalk" />
                        <action id="-9" name="Destroy" sid="528902487127464" type="ZombieGunner" />
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="242960828373640">
            <conditions>
                <condition id="-1" name="Every tick" sid="736358649205423" type="System" />
            </conditions>
            <actions>
                <action id="-16" name="Set opacity" sid="559815496062232" type="HpBarValue">
                    <param id="0" name="Opacity">lerp(HpBarValue.Opacity,0,0.05)</param>
                </action>
                <action id="-16" name="Set opacity" sid="980223262269948" type="HpBarBase">
                    <param id="0" name="Opacity">lerp(HpBarBase.Opacity,0,0.05)</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="140713978544240">
            <conditions>
                <condition id="0" name="On function" sid="657825416733531" type="Function">
                    <param id="0" name="Name">&quot;ChasePlayer&quot;</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="960293920652817" type="Zombie">
                    <param id="0" name="Unique ID">Function.Param(0)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="768681414366227" type="Zombie">
                    <param id="0" name="Instance variable">direction</param>
                    <param id="1" name="Value">(Player.X &lt; Zombie.X)?-1:1</param>
                </action>
                <action id="-10" name="Set value" sid="620878794518446" type="Zombie">
                    <param id="0" name="Instance variable">direction</param>
                    <param id="1" name="Value">(Player.X &gt; Zombie.X)?1:Zombie.direction</param>
                </action>
                <action id="-10" name="Set value" sid="843828858662956" type="Zombie">
                    <param id="0" name="Instance variable">time</param>
                    <param id="1" name="Value">60</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="880910330593409">
                    <conditions>
                        <condition id="-2" name="Compare Y" sid="383508322496690" type="Zombie">
                            <param id="0" name="Comparison">2</param>
                            <param id="1" name="Y co-ordinate">Player.Y</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="12" name="Fall through" sid="554089715482028" type="Zombie" />
                    </actions>
                </event-block>
                <event-block sid="352643685156155">
                    <conditions>
                        <condition id="-2" name="Compare Y" sid="602749570677150" type="Zombie">
                            <param id="0" name="Comparison">4</param>
                            <param id="1" name="Y co-ordinate">Player.Y +99</param>
                        </condition>
                        <condition behavior="Platform" id="2" name="Is on floor" sid="488470730920618" type="Zombie" />
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="308228309286355" type="Zombie">
                            <param id="0" name="Control">2</param>
                        </action>
                        <action behavior="Platform" id="9" name="Set vector Y" sid="911257918655876" type="Zombie">
                            <param id="0" name="Vector Y"> -Zombie.Platform.JumpStrength</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="228482148228033">
            <conditions>
                <condition id="-11" name="For Each" sid="167573610792679" type="System">
                    <param id="0" name="Object">Zombie</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="425686211777611" type="FightDetector">
                    <param id="0" name="Instance variable">zombie</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">Zombie.UID</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="713678917355163" type="NearDetector">
                    <param id="0" name="Instance variable">zombie</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">Zombie.UID</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="683668672848515" type="FarDetector">
                    <param id="0" name="Instance variable">zombie</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">Zombie.UID</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="353058877412920" type="ZombieWalk">
                    <param id="0" name="Instance variable">zombie</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">Zombie.UID</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="162918438554533" type="ZombieGunner">
                    <param id="0" name="Instance variable">zombie</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">Zombie.UID</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="713820797498448">
                    <conditions>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="401515745762145" type="Zombie">
                            <param id="0" name="Instance variable">gunner</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="719457143292995" type="ZombieWalk">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="176760472875015" type="ZombieGunner">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="243779102433582">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="255391436999396" type="Zombie">
                            <param id="0" name="Instance variable">gunner</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="508993082356906" type="ZombieWalk">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="258701867774227" type="ZombieGunner">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="752060858758728">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="322571913779360" type="Zombie">
                            <param id="0" name="Instance variable">direction</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="109951309088545" type="Zombie">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="853446714421775" type="FightDetector">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="687325377051747" type="NearDetector">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="160655857678913" type="FarDetector">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="169105948043150" type="ZombieWalk">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="601920583762440" type="ZombieGunner">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="245022279979814">
                    <conditions>
                        <condition id="-22" name="Else" sid="123476539400634" type="System" />
                        <condition id="-7" name="Compare instance variable" sid="771802260151358" type="Zombie">
                            <param id="0" name="Instance variable">direction</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="497778145219766" type="Zombie">
                            <param id="0" name="State">1</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="773079507480160" type="FightDetector">
                            <param id="0" name="State">1</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="188143752789106" type="NearDetector">
                            <param id="0" name="State">1</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="804169124112925" type="FarDetector">
                            <param id="0" name="State">1</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="359622465681173" type="ZombieWalk">
                            <param id="0" name="State">1</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="259312092686211" type="ZombieGunner">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="684817545729500">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="626805708249703" type="Player">
                            <param id="0" name="Object">FightDetector</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="434139188501388" type="Zombie">
                            <param id="0" name="Instance variable">gunner</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="710845038087565" type="Zombie">
                            <param id="0" name="Instance variable">isPlayerNear</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-11" name="Add to" sid="657053042990751" type="Zombie">
                            <param id="0" name="Instance variable">attackCount</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="645285204909844" type="Zombie">
                            <param id="0" name="Instance variable">direction</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="299535842920417">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="509816230557460" type="System">
                                    <param id="0" name="First value">Zombie.attackCount</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">Zombie.attackDelay</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="577877623887008" type="Function">
                                    <param id="0" name="Name">&quot;Damage&quot;</param>
                                    <param id="1" name="Parameter {n}">Player.UID{###}Zombie.attack</param>
                                </action>
                                <action id="-10" name="Set value" sid="148917273617081" type="Zombie">
                                    <param id="0" name="Instance variable">attackCount</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="4" name="Set animation" sid="922107075709203" type="ZombieWalk">
                                    <param id="0" name="Animation">&quot;attack&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <variable constant="0" name="rnd" sid="404052797348135" static="0" type="number">0</variable>
                                <event-block sid="947315673808285">
                                    <conditions>
                                        <condition id="5" inverted="1" name="Is tag playing" sid="959769556082579" type="Audio">
                                            <param id="0" name="Tag">&quot;ATACK_GRUNT_MOB_&quot; &amp; Zombie.UID</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="690496248738873" type="System">
                                            <param id="0" name="Variable">rnd</param>
                                            <param id="1" name="Value">int(random(3))</param>
                                        </action>
                                        <action id="25" name="Play at object" sid="338261273346181" type="Audio">
                                            <param id="0" name="Audio file">ATACK_MOB</param>
                                            <param id="1" name="Loop">0</param>
                                            <param id="2" name="Volume">0</param>
                                            <param id="3" name="Object">Zombie</param>
                                            <param id="4" name="Inner angle">360</param>
                                            <param id="5" name="Outer angle">360</param>
                                            <param id="6" name="Outer gain">0</param>
                                            <param id="7" name="Tag (optional)">&quot;&quot;</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="139347411579273">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="223944670245131" type="System">
                                                    <param id="0" name="Variable">rnd</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="25" name="Play at object" sid="690543126505849" type="Audio">
                                                    <param id="0" name="Audio file">ATACK_GROUT_MOB1</param>
                                                    <param id="1" name="Loop">0</param>
                                                    <param id="2" name="Volume">0</param>
                                                    <param id="3" name="Object">Zombie</param>
                                                    <param id="4" name="Inner angle">360</param>
                                                    <param id="5" name="Outer angle">360</param>
                                                    <param id="6" name="Outer gain">0</param>
                                                    <param id="7" name="Tag (optional)">&quot;ATACK_GRUNT_MOB_&quot; &amp; Zombie.UID</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="605687027332802">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="537436513087012" type="System">
                                                    <param id="0" name="Variable">rnd</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="25" name="Play at object" sid="337220092086638" type="Audio">
                                                    <param id="0" name="Audio file">ATACK_GROUT_MOB2</param>
                                                    <param id="1" name="Loop">0</param>
                                                    <param id="2" name="Volume">0</param>
                                                    <param id="3" name="Object">Zombie</param>
                                                    <param id="4" name="Inner angle">360</param>
                                                    <param id="5" name="Outer angle">360</param>
                                                    <param id="6" name="Outer gain">0</param>
                                                    <param id="7" name="Tag (optional)">&quot;ATACK_GRUNT_MOB_&quot; &amp; Zombie.UID</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="937492515838054">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="583111050196056" type="System">
                                                    <param id="0" name="Variable">rnd</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">2</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="25" name="Play at object" sid="867745752948505" type="Audio">
                                                    <param id="0" name="Audio file">ATACK_GROUT_MOB3</param>
                                                    <param id="1" name="Loop">0</param>
                                                    <param id="2" name="Volume">0</param>
                                                    <param id="3" name="Object">Zombie</param>
                                                    <param id="4" name="Inner angle">360</param>
                                                    <param id="5" name="Outer angle">360</param>
                                                    <param id="6" name="Outer gain">0</param>
                                                    <param id="7" name="Tag (optional)">&quot;ATACK_GRUNT_MOB_&quot; &amp; Zombie.UID</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="777965273088915">
                    <conditions>
                        <condition id="-22" name="Else" sid="252458596967506" type="System" />
                        <condition id="1" name="Is overlapping another object" sid="205024863497653" type="Player">
                            <param id="0" name="Object">NearDetector</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="776842908572549" type="Zombie">
                            <param id="0" name="Instance variable">isPlayerNear</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="0" name="Call function" sid="873060124131112" type="Function">
                            <param id="0" name="Name">&quot;ChasePlayer&quot;</param>
                            <param id="1" name="Parameter {n}">Zombie.UID</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="595416767029435">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="727130515219681" type="Zombie">
                                    <param id="0" name="Instance variable">gunner</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Add to" sid="114239806919993" type="Zombie">
                                    <param id="0" name="Instance variable">attackCount</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="861911086484498">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="801453386266097" type="System">
                                            <param id="0" name="First value">Zombie.attackCount</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Second value">Zombie.attackDelay</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="403744288462923" type="ZombieGunner">
                                            <param id="0" name="Animation">&quot;attack&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="219584542900165" type="Zombie">
                                            <param id="0" name="Instance variable">direction</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="236493120587883" type="Zombie">
                                            <param id="0" name="Instance variable">attackCount</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="366151377249831">
                            <conditions>
                                <condition id="-22" name="Else" sid="565057588705464" type="System" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="385711196232039" type="Zombie">
                                    <param id="0" name="Instance variable">attackCount</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="972923604884575">
                    <conditions>
                        <condition id="-22" name="Else" sid="810615273529759" type="System" />
                        <condition id="1" name="Is overlapping another object" sid="820538273178896" type="Player">
                            <param id="0" name="Object">FarDetector</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="855417630024784" type="Zombie">
                            <param id="0" name="Instance variable">isPlayerNear</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="401578738953438" type="Zombie">
                            <param id="0" name="Instance variable">attackCount</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="0" name="Call function" sid="369766990110395" type="Function">
                            <param id="0" name="Name">&quot;ChasePlayer&quot;</param>
                            <param id="1" name="Parameter {n}">Zombie.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="527627061972462">
                    <conditions>
                        <condition id="-22" name="Else" sid="849622630803038" type="System" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="218534425418074" type="Zombie">
                            <param id="0" name="Instance variable">attackCount</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="951589978520485" type="Zombie">
                            <param id="0" name="Instance variable">isPlayerNear</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-11" name="Add to" sid="910424372856788" type="Zombie">
                            <param id="0" name="Instance variable">time</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="942751680508172">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="176123566599821" type="Zombie">
                                    <param id="0" name="Instance variable">time</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">60</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="135354036270285" type="Zombie">
                                    <param id="0" name="Instance variable">time</param>
                                    <param id="1" name="Value">-1</param>
                                </action>
                                <action id="-10" name="Set value" sid="172853105996780" type="Zombie">
                                    <param id="0" name="Instance variable">direction</param>
                                    <param id="1" name="Value">-1 + random(3)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>se tem chao ou se esta persiguindo, caminha</comment>
                <event-block any="1" sid="287867565476257">
                    <conditions>
                        <condition id="9" name="Is overlapping at offset" sid="241583437392103" type="Zombie">
                            <param id="0" name="Object">Solidos</param>
                            <param id="1" name="Offset X">(Zombie.direction&gt;0)?64:-64</param>
                            <param id="2" name="Offset Y">64</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="739728051888902" type="Zombie">
                            <param id="0" name="Instance variable">isPlayerNear</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="526026480907837">
                            <conditions>
                                <condition id="1" inverted="1" name="Is overlapping another object" sid="562125912859228" type="Zombie">
                                    <param id="0" name="Object">Zombie</param>
                                </condition>
                                <condition id="2" inverted="1" name="Is playing" sid="163397155888085" type="ZombieWalk">
                                    <param id="0" name="Animation">&quot;attack&quot;</param>
                                </condition>
                                <condition id="2" inverted="1" name="Is playing" sid="794562024398323" type="ZombieGunner">
                                    <param id="0" name="Animation">&quot;attack&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="8" name="Set vector X" sid="684908515174796" type="Zombie">
                                    <param id="0" name="Vector X">Zombie.Platform.MaxSpeed * Zombie.direction</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="328927904626385">
                                    <conditions>
                                        <condition id="-3" name="Is on-screen" sid="650858304377969" type="Zombie" />
                                        <condition id="-7" name="Compare instance variable" sid="758103364307613" type="Zombie">
                                            <param id="0" name="Instance variable">direction</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                        <condition id="5" inverted="1" name="Is tag playing" sid="842872505981674" type="Audio">
                                            <param id="0" name="Tag">&quot;WALK _MOB_&quot; &amp; Zombie.UID</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="25" name="Play at object" sid="140147208969429" type="Audio">
                                            <param id="0" name="Audio file">WALK_MOB</param>
                                            <param id="1" name="Loop">0</param>
                                            <param id="2" name="Volume">0</param>
                                            <param id="3" name="Object">Zombie</param>
                                            <param id="4" name="Inner angle">360</param>
                                            <param id="5" name="Outer angle">360</param>
                                            <param id="6" name="Outer gain">0</param>
                                            <param id="7" name="Tag (optional)">&quot;WALK _MOB_&quot; &amp; Zombie.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="645267511102369">
                    <conditions>
                        <condition id="-22" name="Else" sid="833203906436814" type="System" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="583280504271201" type="Zombie">
                            <param id="0" name="Instance variable">direction</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="663641471441151">
                    <conditions>
                        <condition id="9" name="Is overlapping at offset" sid="518198060190770" type="Zombie">
                            <param id="0" name="Object">Solidos</param>
                            <param id="1" name="Offset X">(Zombie.direction&gt;0)?32:-32</param>
                            <param id="2" name="Offset Y">-5</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="278358327997220" type="Zombie">
                            <param id="0" name="Instance variable">isPlayerNear</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="809084170918034" type="Zombie">
                            <param id="0" name="Instance variable">direction</param>
                            <param id="1" name="Value">Zombie.direction * -1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="495187934647565">
                    <conditions>
                        <condition id="2" inverted="1" name="Is playing" sid="674612428531298" type="ZombieWalk">
                            <param id="0" name="Animation">&quot;attack&quot;</param>
                        </condition>
                        <condition id="2" inverted="1" name="Is playing" sid="972003597931421" type="ZombieGunner">
                            <param id="0" name="Animation">&quot;attack&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="730942993413639" type="ZombieWalk">
                            <param id="0" name="Animation">(Zombie.direction=0)?&quot;stop&quot;:&quot;wallk&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="4" name="Set animation" sid="434708579340303" type="ZombieGunner">
                            <param id="0" name="Animation">(Zombie.direction=0)?&quot;stop&quot;:&quot;wallk&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="404506829208450">
            <conditions>
                <condition id="4" name="On finished" sid="684054039531301" type="ZombieWalk">
                    <param id="0" name="Animation">&quot;attack&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="620630035779798" type="ZombieWalk">
                    <param id="0" name="Animation">&quot;stop&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="884218706855648">
            <conditions>
                <condition id="4" name="On finished" sid="867676721987870" type="ZombieGunner">
                    <param id="0" name="Animation">&quot;attack&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="997197047249421" type="ZombieGunner">
                    <param id="0" name="Animation">&quot;stop&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="278553323098822">
            <conditions>
                <condition id="-11" name="For Each" sid="296252199398348" type="System">
                    <param id="0" name="Object">Zombie</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="187406505332672" type="ZombieGunner">
                    <param id="0" name="Instance variable">zombie</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">Zombie.UID</param>
                </condition>
                <condition id="2" name="Is playing" sid="961906833270467" type="ZombieGunner">
                    <param id="0" name="Animation">&quot;attack&quot;</param>
                </condition>
                <condition id="3" name="Compare frame" sid="175421266755977" type="ZombieGunner">
                    <param id="0" name="Comparison">0</param>
                    <param id="1" name="Number">1</param>
                </condition>
                <condition disabled="1" id="-4" name="Trigger once while true" sid="758965811934027" type="System" />
            </conditions>
            <actions>
                <action id="25" name="Play at object" sid="583932953780942" type="Audio">
                    <param id="0" name="Audio file">SHOT_MOB</param>
                    <param id="1" name="Loop">0</param>
                    <param id="2" name="Volume">0</param>
                    <param id="3" name="Object">Zombie</param>
                    <param id="4" name="Inner angle">360</param>
                    <param id="5" name="Outer angle">360</param>
                    <param id="6" name="Outer gain">0</param>
                    <param id="7" name="Tag (optional)">&quot;SHOT_MOB_&quot; &amp; Zombie.UID</param>
                </action>
                <action id="-3" name="Create object" sid="429382029038733" type="System">
                    <param id="0" name="Object to create">Bullet</param>
                    <param id="1" name="Layer">&quot;white&quot;</param>
                    <param id="2" name="X">0</param>
                    <param id="3" name="Y">0</param>
                </action>
                <action disabled="1" id="0" name="Spawn another object" sid="557866042003047" type="ZombieGunner">
                    <param id="0" name="Object">Bullet</param>
                    <param id="1" name="Layer">&quot;white&quot;</param>
                    <param id="2" name="Image point">&quot;bullet&quot;</param>
                </action>
                <action id="-4" name="Set position to another object" sid="246100127471365" type="Bullet">
                    <param id="0" name="Object">ZombieGunner</param>
                    <param id="1" name="Image point (optional)">&quot;bullet&quot;</param>
                </action>
                <action id="-10" name="Set value" sid="192114439897382" type="Bullet">
                    <param id="0" name="Instance variable">damage</param>
                    <param id="1" name="Value">Zombie.attack</param>
                </action>
                <action id="-10" name="Set value" sid="831322470662268" type="Bullet">
                    <param id="0" name="Instance variable">maxDistance</param>
                    <param id="1" name="Value">abs(NearDetector.Width) + 100</param>
                </action>
                <action behavior="Bullet" id="0" name="Set speed" sid="539225865316877" type="Bullet">
                    <param id="0" name="Speed">900</param>
                </action>
                <action id="5" name="Set frame" sid="764354027980140" type="Bullet">
                    <param id="0" name="Frame number">1</param>
                </action>
                <action id="-13" name="Set boolean" sid="149433362579628" type="Bullet">
                    <param id="0" name="Instance variable">monster</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="209939487146601">
                    <conditions>
                        <condition id="7" name="Is mirrored" sid="594950179852115" type="ZombieGunner" />
                    </conditions>
                    <actions>
                        <action id="-8" name="Set angle" sid="378249354962872" type="Bullet">
                            <param id="0" name="Angle">180</param>
                        </action>
                        <action behavior="Bullet" id="3" name="Set angle of motion" sid="685115107509836" type="Bullet">
                            <param id="0" name="Angle">180</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="391167823130328">
                    <conditions>
                        <condition id="-22" name="Else" sid="338673535625835" type="System" />
                    </conditions>
                    <actions>
                        <action id="-8" name="Set angle" sid="799195355584964" type="Bullet">
                            <param id="0" name="Angle">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="550715716063002">
            <conditions>
                <condition behavior="Platform" id="9" name="On landed" sid="368959921356397" type="Zombie" />
            </conditions>
            <actions>
                <action id="25" name="Play at object" sid="573569341050603" type="Audio">
                    <param id="0" name="Audio file">FALL_MOB</param>
                    <param id="1" name="Loop">0</param>
                    <param id="2" name="Volume">0</param>
                    <param id="3" name="Object">Zombie</param>
                    <param id="4" name="Inner angle">360</param>
                    <param id="5" name="Outer angle">360</param>
                    <param id="6" name="Outer gain">0</param>
                    <param id="7" name="Tag (optional)">&quot;FALL_MOB&quot;</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
